<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true&language=ja"></script>
<script type="text/javascript">
<!--
var rendererOptions = {
    draggable: true,
    preserveViewport: false
};
var directionsDisplay = new google.maps.DirectionsRenderer(rendererOptions);
directionsDisplay.setOptions({
    suppressMarkers: true
});
var map;
var mymarker;
var geocoder;
var initialLocation;
var dummy = new google.maps.LatLng(35.664035, 139.698212);

function initialize() {

    geocoder = new google.maps.Geocoder();

    // 地図オプション設定
    var myOptions = {
        zoom: 16,
        center: initialLocation,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        mapTypeControl: true,
        mapTypeControlOptions: {
            style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
            position: google.maps.ControlPosition.TOP_RIGHT
        },
        zoomControl: true,
        zoomControlOptions: {
            style: google.maps.ZoomControlStyle.LARGE,
            position: google.maps.ControlPosition.LEFT_CENTER
        },
        scaleControl: true,
        scaleControlOptions: {
            position: google.maps.ControlPosition.TOP_LEFT
        },
        streetViewControl: true,
        streetViewControlOptions: {
            position: google.maps.ControlPosition.LEFT_TOP
        }
    };

    var flagIcon = new google.maps.MarkerImage("file:///android_res/drawable/present_location.png");
    flagIcon.size = new google.maps.Size(35, 35);
    flagIcon.anchor = new google.maps.Point(0, 35);

    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    directionsDisplay.setMap(map);

    /* 現在位置を取得 */
    if (window.android) {
        initialLocation = new google.maps.LatLng(window.android.getLatitude(), window.android.getLongitude());
    } else {
        initialLocation = dummy;
    }

    map.setCenter(initialLocation);
    // 現在位置（initialLocation）にマーカーを配置
    mymarker = new google.maps.Marker({
        position: initialLocation,
        draggable : false,
        map: map,
        icon: flagIcon
    });
}

-->
</script>

</head>
<body onload="initialize()">
  <div id="total" style="width:100%; height:5%;text-align: left; margin: 1px; background-image:url('file:///android_res/drawable/titlebg.png');">現在位置を表示しています</div>
  <div id="map_canvas" style="width:100%; height:95%"></div>
</body>
</html>